<section class="row m-b-md">
    <div class="col-sm-12">
        <h3>Statistics for the last <%= @blocks['data'].size %> blocks</h3>
        <section class="panel panel-default">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Sum</th>
                            <th>Mean</th>
                            <th>Median</th>
                            <th>Modes</th>
                            <th>Sorted Frequencies</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% @statistics.each do |statistic| %>
                            <tr>
                                <td><strong><%= statistic[0] %></strong></td>
                                <% [:sum, :mean, :median].each do |statistic_type| %>
                                  <td>
                                    <% if statistic[0] === :fee %>
                                      <span class='btc' title='<%= statistic[0] === :fee ? number_to_currency(@value * statistic[1].send(statistic_type)) : "" %>'><%= calculate_statistics statistic, statistic_type %></span>
                                      <span class='usd hide' title='<%= statistic[1].send statistic_type %> BTC'><%= statistic[0] === :fee ? number_to_currency(@value * statistic[1].send(statistic_type)) : "" %></span>
                                    <% else %>
                                      <%= calculate_statistics statistic, statistic_type %>
                                    <% end %>
                                  </td>
                                <% end %>
                                <td>
                                  <% if statistic[0] === :fee %>
                                    <span class='btc' title='<%= statistic[0] === :fee ? number_to_currency(@value * statistic[1].median) : "" %>'><%= calculate_statistics statistic, :median%></span>
                                    <span class='usd hide' title='<%= number_with_precision(statistic[1].median, precision: 8) %> BTC'><%= statistic[0] === :fee ? number_to_currency(@value * statistic[1].median) : "" %></span>
                                  <% else %>
                                    <%= calculate_statistics statistic, :median %>
                                  <% end %>
                                </td>
                                <td><%= statistic[1].modes %></td>
                                <td><%= statistic[1].sorted_frequencies %></td>
                            </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
        </section>
    </div>
</section>
